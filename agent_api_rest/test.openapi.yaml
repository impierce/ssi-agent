openapi: 3.1.0
info:
  title: agent_api_rest
  description: ''
  license:
    name: ''
  version: 0.1.0
paths:
  /.well-known/oauth-authorization-server:
    get:
      tags:
      - Well-Known
      summary: Authorization Server Metadata
      description: Returns the Authorization Server Metadata.
      operationId: oauth_authorization_server
      responses:
        '200':
          description: Successfully returns the Authorization Server Metadata
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AuthorizationServerMetadata'
  /.well-known/openid-credential-issuer:
    get:
      tags:
      - Well-Known
      summary: Credential Issuer Metadata
      description: Returns the Credential Issuer Metadata.
      operationId: openid_credential_issuer
      responses:
        '200':
          description: Successfully returns the Credential Issuer Metadata
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CredentialIssuerMetadata'
  /openid4vci/credential:
    post:
      tags:
      - OpenID4VCI
      summary: Fetch credentials
      description: A wallet uses this endpoint as part of an issuance flow to fetch the credentials from.
      operationId: credential
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CredentialRequest'
        required: true
      responses:
        '200':
          description: List all credentials successfully
  /openid4vci/offers:
    get:
      tags:
      - OpenID4VCI
      summary: Get an offer
      description: Retrieve offer if it exists.
      operationId: offers
      requestBody:
        description: ''
        content:
          application/json:
            schema: {}
        required: true
      responses:
        '200':
          description: Successfully retrieved offer.
  /v0/authorization_requests:
    post:
      tags:
      - Verification
      summary: Create an authorization request
      description: Foobar
      operationId: authorization_requests
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthorizationRequestsEndpointRequest'
        required: true
      responses:
        '200':
          description: ''
  /v0/authorization_requests/{id}:
    get:
      tags:
      - Verification
      summary: Get an authorization request
      description: Foobar
      operationId: get_authorization_requests
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: ''
  /v0/credentials:
    post:
      tags:
      - Credentials
      summary: Create a new credential
      description: Create a new credential for the given payload.
      operationId: credentials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CredentialsEndpointRequest'
        required: true
      responses:
        '200':
          description: Successfully created a new credential.
  /v0/credentials/{id}:
    get:
      tags:
      - Credentials
      summary: Retrieve a credential
      description: Return a credential for a given ID.
      operationId: get_credentials
      parameters:
      - name: id
        in: path
        description: Unique identitfier of the Credential
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Credential found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CredentialView'
  /v0/holder/credentials:
    get:
      tags:
      - Holder
      summary: Get all credentials
      description: Retrieve all credentials that UniCore currently holds.
      operationId: credentials
      responses:
        '200':
          description: Successfully retrieved all credentials.
  /v0/holder/offers:
    get:
      tags:
      - Holder
      summary: Get all offers
      description: Retrieve all pending credential offers.
      operationId: offers
      responses:
        '200':
          description: Successfully retrieved all pending offers.
  /v0/holder/offers/{offer_id}/accept:
    post:
      tags:
      - Holder
      summary: Accept an offer
      description: Accepts a pending credential offer.
      operationId: accept
      parameters:
      - name: offer_id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Successfully accepted a pending offer.
  /v0/holder/offers/{offer_id}/reject:
    post:
      tags:
      - Holder
      summary: Reject an offer
      description: Reject a pending credential offer.
      operationId: reject
      parameters:
      - name: offer_id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Successfully rejected a pending offer.
  /v0/offers:
    post:
      tags:
      - Offers
      summary: Create a new offer
      description: Create a new credential offer for the given ID.
      operationId: offers
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OffersEndpointRequest'
        required: true
      responses:
        '200':
          description: Successfully created a new credential offer.
components:
  schemas:
    CredentialsEndpointRequest:
      type: object
      required:
      - offerId
      - credential
      - credentialConfigurationId
      properties:
        credential: {}
        credentialConfigurationId:
          type: string
        isSigned:
          type: boolean
        offerId:
          type: string
tags:
- name: OpenID4VCI
  description: All operations revolved around the OpenID4VCI standard.
  externalDocs:
    url: https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0.html
    description: OpenID for Verifiable Credential Issuance
- name: Well-Known
  description: Well-known endpoints provide metadata about the server.
